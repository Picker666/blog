# var/let/const 区别

## 1、声明过程

var：遇到有 var 的作用域，在任何语句执行前都已完成了声明和初始化，也就是变量提升并且拿到undefined的原因；
function: 声明、初始化、赋值一开始就全部完成，所以函数的变量提升优先级跟高；
let：解析器进入一个块级作用域，发现let关键，变量只是先完成声明，并没有初始化。此时如果在作用域提前访问，则会报错 xx is not defined， 这就是暂时性死区的由来。等到解析到 有let的那一句才会进去初始化的阶段。如果let的那一行是赋值操作，则初始化和赋值同时进行。
const、class都是同let一样的道理。

对比于var，let、const 只是解耦了声明和初始化的过程，var是任何语句执行前都完成了 声明和初始化，let、const仅仅在任何语句执行前只完成了声明。

## 2、内存分配

var：会直接在栈内存里预分配内存空间，然后等到实际语句执行的时候，再存储对应的变量，如果传的是引用类型，那么会在堆内存里开辟一个内存空间存储实际内容，栈内存会存储一个指向堆内存的指针；
let：是不会再栈内存里预分配内存空间，而且在栈内存分配变量时，做一个检查，如果已经有相同变量名存在就会报错；
const：也不会预分配内存空间，在栈内存分配变量时也会做同样的检查。不过const存储的变量时不可以修改的，对于基本类型来说，无法修改定义的值，对于引用类型来说无法修改栈内存里分配的指针，但是，你可以修改指针指向的对象里的属性。

## 3、变量提升

可以认为是，只有let存在变量提升；

也可以认为，let、const、var都存在变量提升

let/const：只是创建过程（声明）提升，初始化过程并没有提升，所以存在暂时性死区；
var：创建和初始化过程都提升了，所以在赋值前访问会等到undefined；
function：创建、初始化和赋值都被提升了。
